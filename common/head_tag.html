<script type="text/discourse-plugin" version="0.8">
// 防止导航栏颜色闪烁 - 在页面加载前设置样式
(function() {
  const bgColor = settings.header_bg_color || '#3B66F5';
  const textColor = settings.header_text_color || '#ffffff';
  
  const style = document.createElement('style');
  style.id = 'mint-header-critical';
  style.textContent = `
    .d-header-wrap .d-header,
    .d-header,
    header.d-header {
      background-color: ${bgColor} !important;
      background: ${bgColor} !important;
    }
    
    .d-header .title a,
    .d-header .title .header-title,
    .d-header .d-icon,
    .d-header .btn,
    .d-header .btn-flat,
    .d-header svg.d-icon {
      color: ${textColor} !important;
    }
    
    .d-header svg.d-icon {
      fill: currentColor !important;
    }
  `;
  document.head.appendChild(style);
})();
</script>
